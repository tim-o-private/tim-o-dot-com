{{ $strAnchor := urlize .Anchor }}
{{ $replacedAnchor := replaceRE "%25" "" $strAnchor }}
<h{{ .Level }} class="relative group">{{ .Text | safeHTML }} 
    <div id="{{ .Anchor | safeURL | urlize }}" class="anchor"></div>
    {{ if.Page.Params.showHeadingAnchors | default (.Page.Site.Params.article.showHeadingAnchors | default true) }}
    {{ if eq .Level 1 }}
      <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-8 rtl:-right-6 not-prose group-hover:opacity-100">
    {{ else }}
      <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
    {{ end }}
        <a class= "group-hover:text-primary-300 dark:group-hover:text-neutral-200"
            style="text-decoration-line: none !important;" href="#{{ $replacedAnchor | safeURL }}" aria-label="{{ i18n "article.anchor_label" }}">#</a>
    </span>        
    {{ end }}
</h{{ .Level }}>